import{j as K,b as g,k as i,C as M,E as U,g as G,d as J,q as Q,l as u,n as _,s as W,u as X,m as Z,o as C,H as q}from"./vue.esm-bundler-f0a4de28.js";import{u as ee}from"./vue-i18n.esm-bundler-45575b10.js";import{A as se,c as ae,m as te}from"./DateHelper-87bc46a3.js";import{u as oe}from"./Validation-4b68e7d0.js";import{g as D}from"./Enums-693cd203.js";import{u as R,l as ne}from"./ComponentHelper-d29c08d8.js";import{_ as de}from"./BErrorMessage-8f74158f.js";import{_ as re}from"./BLabel-29da189d.js";import{D as S}from"./Common-43134899.js";import{v as le}from"./v4-a960c1f4.js";import{i as ie,a as ce,b as ue,c as me,d as pe,g as fe,e as be,f as ye}from"./_getTag-a6d04ccb.js";import"./_commonjsHelpers-725317a4.js";import"./_commonjs-dynamic-modules-302442b1.js";var he="[object Map]",ke="[object Set]",_e=Object.prototype,ge=_e.hasOwnProperty;function c(t){if(t==null)return!0;if(ie(t)&&(ce(t)||typeof t=="string"||typeof t.splice=="function"||ue(t)||me(t)||pe(t)))return!t.length;var n=fe(t);if(n==he||n==ke)return!t.size;if(be(t))return!ye(t).length;for(var a in t)if(ge.call(t,a))return!1;return!0}const De={class:"ds-relative"},ve=["id","disabled","placeholder","value"],Ve=["id","disabled","placeholder"],we=["for"],v=K({__name:"BDateRangePicker",props:{inputId:{default:""},modelValue:{},label:{default:""},validationRules:{default:void 0},placeholder:{default:""},required:{type:Boolean,default:!1},requiredErrorMessage:{default:""},disabled:{type:Boolean,default:!1},inputCssClass:{default:""},minDate:{default:""},maxDate:{default:""},view:{default:D.Days},hideDetails:{type:Boolean,default:!1},position:{default:"bottom left"}},emits:["update:modelValue"],setup(t,{emit:n}){const a=t,{t:e,locale:b}=ee(),$=`DD${S}MM${S}YYYY`;let l;const A={validateRule:s=>!!s,errorMessage:()=>a.requiredErrorMessage||e("ds.global.field_required")},y=g(),d=i(()=>a.inputId||`id-${le()}`),V=i({get(){return a.modelValue},set(s){n("update:modelValue",s)}}),N=i(()=>[{content:e("ds.components.base.date_picker.buttons.cancel"),className:"ds-bg-transparent focus:ds-ring-1 focus:ds-ring-gray-300 ds-border-inner-primary-f !ds-text-primary-t hover:ds-bg-[#e6f0fe] ds-text-sm ds-leading-4 ds-px-4 ds-mx-1",onClick:s=>{s.clear(),q(()=>{B()}),s.hide()}},{content:e("ds.components.base.date_picker.buttons.confirm"),className:`${d.value}-btn-confirm focus:ds-ring-1 focus:ds-ring-1 focus:ds-ring-blue-300 ds-bg-gradient-to-r ds-from-primary-f-stop ds-from-primary-f ds-to-primary-t !ds-text-white enabled:hover:ds-bg-[#0e4bbd] ds-text-sm ds-leading-4 ds-px-4 disabled:ds-from-[#e2e4e8] disabled:ds-to-[#e2e4e8] disabled:ds-text-black/[0.4] ds-mx-1`,onClick:s=>{V.value=m(y.value)?y.value:[],q(()=>{B()}),s.hide()},attrs:a.required?{disabled:""}:void 0}]),w=i(()=>{const s={days:[e("ds.components.base.date_picker.days.sunday"),e("ds.components.base.date_picker.days.monday"),e("ds.components.base.date_picker.days.tuesday"),e("ds.components.base.date_picker.days.wednesday"),e("ds.components.base.date_picker.days.thursday"),e("ds.components.base.date_picker.days.friday"),e("ds.components.base.date_picker.days.saturday")],daysShort:[e("ds.components.base.date_picker.days_short.sunday"),e("ds.components.base.date_picker.days_short.monday"),e("ds.components.base.date_picker.days_short.tuesday"),e("ds.components.base.date_picker.days_short.wednesday"),e("ds.components.base.date_picker.days_short.thursday"),e("ds.components.base.date_picker.days_short.friday"),e("ds.components.base.date_picker.days_short.saturday")],daysMin:[e("ds.components.base.date_picker.days_min.sunday"),e("ds.components.base.date_picker.days_min.monday"),e("ds.components.base.date_picker.days_min.tuesday"),e("ds.components.base.date_picker.days_min.wednesday"),e("ds.components.base.date_picker.days_min.thursday"),e("ds.components.base.date_picker.days_min.friday"),e("ds.components.base.date_picker.days_min.saturday")],months:[e("ds.components.base.date_picker.months.january"),e("ds.components.base.date_picker.months.february"),e("ds.components.base.date_picker.months.march"),e("ds.components.base.date_picker.months.april"),e("ds.components.base.date_picker.months.may"),e("ds.components.base.date_picker.months.june"),e("ds.components.base.date_picker.months.july"),e("ds.components.base.date_picker.months.august"),e("ds.components.base.date_picker.months.september"),e("ds.components.base.date_picker.months.october"),e("ds.components.base.date_picker.months.november"),e("ds.components.base.date_picker.months.december")],monthsShort:[e("ds.components.base.date_picker.months_short.january"),e("ds.components.base.date_picker.months_short.february"),e("ds.components.base.date_picker.months_short.march"),e("ds.components.base.date_picker.months_short.april"),e("ds.components.base.date_picker.months_short.may"),e("ds.components.base.date_picker.months_short.june"),e("ds.components.base.date_picker.months_short.july"),e("ds.components.base.date_picker.months_short.august"),e("ds.components.base.date_picker.months_short.september"),e("ds.components.base.date_picker.months_short.october"),e("ds.components.base.date_picker.months_short.november"),e("ds.components.base.date_picker.months_short.december")],today:e("ds.components.base.date_picker.buttons.today"),clear:e("ds.components.base.date_picker.buttons.clear"),dateFormat:"dd/MM/yyyy",timeFormat:"HH:mm",firstDay:1},o=({date:r})=>{const p=m(r);y.value=p?r:[],a.required&&L(p)};return{locale:s,selectedDates:a.modelValue,onSelect:o,buttons:N.value,showOtherMonths:!1,timepicker:!1,onlyTimepicker:!1,minDate:a.minDate,maxDate:a.maxDate,view:a.view,onHide:E,onShow:H,navTitles:{days:"MMMM yyyy"},position:a.position,range:!0,multipleDatesSeparator:" - "}}),O=i(()=>{let s=[];return a.required&&s.push(A),a.validationRules&&(s=s.concat(a.validationRules)),s.length?s:void 0}),P=i(()=>["ds-border ds-rounded-lg ds-block ds-w-full ds-text-sm ds-px-3 ds-h-[40px]",{"ds-cursor-not-allowed ds-bg-[#f2f2f2] ds-text-black/[0.4]":a.disabled,"ds-text-black/[0.85]":!a.disabled,"ds-border-error focus:ds-ring-1 focus:ds-ring-error":!k.value.valid,"ds-border-black/[0.1] focus:ds-border-focus focus:ds-ring-1 focus:ds-ring-focus":k.value.valid,"!ds-border-focus ds-ring-1 ds-ring-focus":h.value},a.inputCssClass]),h=g(!1),F=i(()=>a.modelValue.map(s=>z(s)).join(" - ")),{validate:B,validationResult:k}=oe(d.value,V,O.value);M(()=>a.modelValue,()=>{Y(l.selectedDates)&&(m(a.modelValue)?l.selectDate(a.modelValue):l.clear())},{deep:!0}),M([b,()=>a.position,()=>a.minDate,()=>a.maxDate,()=>a.view],()=>{l.update(w.value)});const m=s=>(s==null?void 0:s.length)===2,z=s=>ae(s)?te(s).format($):s,E=()=>{h.value=!1,R()},H=()=>{h.value=!0,m(a.modelValue)?l.selectDate(a.modelValue):l.clear(),ne()},Y=s=>[!c(a.modelValue)&&c(s),!c(s)&&c(a.modelValue),!c(a.modelValue)&&!c(s)&&a.modelValue.some((r,p)=>{var x;return(r==null?void 0:r.getTime())!==((x=s[p])==null?void 0:x.getTime())})].some(r=>r),L=s=>{const o=document.querySelector(`.${d.value}-btn-confirm`);s?o==null||o.removeAttribute("disabled"):o==null||o.setAttribute("disabled","")};return U(()=>{l=new se(`#${d.value}Picker`,w.value)}),G(()=>{R()}),(s,o)=>(C(),J("div",null,[Q(re,{id:d.value,label:s.label,required:s.required},null,8,["id","label","required"]),u("div",De,[u("input",{id:d.value,class:_([P.value,"ds-relative ds-z-[2] ds-drop-shadow-light"]),disabled:s.disabled,placeholder:s.placeholder,value:F.value,readonly:""},null,10,ve),u("input",{id:`${d.value}Picker`,class:_([P.value,"ds-absolute ds-top-0 ds-z-[1]"]),disabled:s.disabled,placeholder:s.placeholder,readonly:""},null,10,Ve),u("label",{for:`${d.value}Picker`,class:"ds-absolute ds-right-3 ds-top-2 ds-z-[3]"},[u("i",{class:_([[a.disabled?"ds-text-black/[0.4]":"ds-text-black/[0.85]"],"fa-solid fa-calendar-lines"])},null,2)],8,we)]),s.hideDetails?Z("",!0):(C(),W(de,{key:0,"error-message":X(k).errorMessage(),class:"ds-mt-1","prepend-icon":"fa-solid fa-circle-exclamation"},null,8,["error-message"]))]))}});v.__docgenInfo={exportName:"default",displayName:"BDateRangePicker",description:"",tags:{},props:[{name:"inputId",defaultValue:{func:!1,value:"''"}},{name:"label",defaultValue:{func:!1,value:"''"}},{name:"validationRules",defaultValue:{func:!1,value:"undefined"}},{name:"placeholder",defaultValue:{func:!1,value:"''"}},{name:"required",defaultValue:{func:!1,value:"false"}},{name:"requiredErrorMessage",defaultValue:{func:!1,value:"''"}},{name:"disabled",defaultValue:{func:!1,value:"false"}},{name:"inputCssClass",defaultValue:{func:!1,value:"''"}},{name:"minDate",defaultValue:{func:!1,value:"''"}},{name:"maxDate",defaultValue:{func:!1,value:"''"}},{name:"view",defaultValue:{func:!1,value:"BDatePickerView.Days"}},{name:"hideDetails",defaultValue:{func:!1,value:"false"}},{name:"position",defaultValue:{func:!1,value:"'bottom left'"}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/design-system/design-system/src/components/BDateRangePicker.vue"]};const Ne={title:"Components/DateRangePicker",component:v,tags:["autodocs"],argTypes:{view:{control:"select",options:Object.values(D)}},args:{inputId:"",label:"",validationRules:void 0,placeholder:"",required:!1,requiredErrorMessage:"",disabled:!1,inputCssClass:"",minDate:"",maxDate:"",view:D.Days,hideDetails:!1,position:"bottom left"}},f={render:t=>({components:{BDateRangePicker:v},setup(){const n=new Date,a=new Date(new Date(n).setDate(n.getDate()-3)),e=new Date(n),b=g([a,e]);return{args:t,date:b}},template:`
      <BDateRangePicker v-bind="args" v-model="date" />
    `}),args:{}};var j,T,I;f.parameters={...f.parameters,docs:{...(j=f.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: (args: any) => ({
    components: {
      BDateRangePicker
    },
    setup() {
      const currentDate = new Date();
      const fromDate = new Date(new Date(currentDate).setDate(currentDate.getDate() - 3));
      const toDate = new Date(currentDate);
      const date = ref([fromDate, toDate]);
      return {
        args,
        date
      };
    },
    template: \`
      <BDateRangePicker v-bind="args" v-model="date" />
    \`
  }),
  args: {}
}`,...(I=(T=f.parameters)==null?void 0:T.docs)==null?void 0:I.source}}};const Oe=["Default"];export{f as Default,Oe as __namedExportsOrder,Ne as default};
//# sourceMappingURL=BDateRangePicker.stories-ee59c96e.js.map
