{"version":3,"file":"BModal.stories-2ae83abe.js","sources":["../../src/components/BModal/BModalContainer.vue","../../src/components/BModal/BModal.vue","../../src/components/BModal/BModalBody.vue","../../src/components/BModal/BModalFooter.vue","../../src/components/BModal/BModalHeader.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { BModalSize } from '@/constants/Enums';\nimport { computed, onBeforeUnmount, onMounted, ref } from 'vue';\nimport BOverlay from '../BOverlay.vue';\n\n/**\n * Props\n */\nexport interface Props {\n  size?: `${BModalSize}`;\n  fullscreen?: boolean;\n  persistent?: boolean;\n}\nconst props = withDefaults(defineProps<Props>(), {\n  size: BModalSize.Medium,\n  fullscreen: false,\n  persistent: false,\n});\n\n/**\n * Events\n */\nconst emit = defineEmits(['close']);\n\n/**\n * Data\n */\nconst modalWrapperContentRef = ref<HTMLDivElement | null>(null);\nconst modalWrapperCssClass = computed(() => {\n  let result = `ds-relative ds-w-full ds-h-auto ds-m-auto ds-flex ds-items-center `;\n\n  if (props.fullscreen) {\n    result += `ds-w-screen ds-h-screen `;\n  } else {\n    result += `ds-p-4 `;\n    switch (props.size) {\n      case BModalSize.Small:\n        result += `ds-max-w-md `;\n        break;\n      case BModalSize.Large:\n        result += `ds-max-w-4xl `;\n        break;\n      case BModalSize.Medium:\n      default:\n        result += `ds-max-w-2xl `;\n        break;\n    }\n  }\n\n  return result;\n});\nconst modalWrapperContentCssClass = computed(() => {\n  let result = `ds-relative ds-bg-white ds-rounded-lg ds-shadow `;\n  result += props.fullscreen ? `ds-w-screen ds-h-screen ds-rounded-none ` : ``;\n\n  return result;\n});\n\n/**\n * Methods\n */\nconst initPressEscapeEventListener = () => {\n  document.addEventListener('keydown', closeOnEscapePressed);\n};\nconst closeOnEscapePressed = (event: KeyboardEvent) => {\n  if (event.key === 'Escape') {\n    emit('close');\n  }\n};\nconst initClickOutsideEventListener = () => {\n  document.addEventListener('click', closeOnClickOutside);\n};\nconst closeOnClickOutside = (event: any) => {\n  const refs = [modalWrapperContentRef.value];\n  const withinBoundaries = refs.some((r) => event.composedPath().includes(r));\n  if (!withinBoundaries) {\n    emit('close');\n  }\n};\n\n/**\n * Lifecycle Hooks\n */\nonMounted(() => {\n  if (!props.persistent) {\n    setTimeout(() => {\n      initPressEscapeEventListener();\n      initClickOutsideEventListener();\n    }, 200);\n  }\n});\nonBeforeUnmount(() => {\n  if (!props.persistent) {\n    document.removeEventListener('keydown', closeOnEscapePressed);\n    document.removeEventListener('click', closeOnClickOutside);\n  }\n});\n</script>\n\n<template>\n  <BOverlay>\n    <div class=\"modal-wrapper\" :class=\"modalWrapperCssClass\">\n      <!--Modal-->\n      <div\n        ref=\"modalWrapperContentRef\"\n        class=\"modal-wrapper-content ds-w-full\"\n        :class=\"modalWrapperContentCssClass\"\n      >\n        <slot />\n      </div>\n      <!---->\n    </div>\n  </BOverlay>\n</template>\n","<script lang=\"ts\" setup>\nimport { BModalSize } from '@/constants/Enums';\nimport { lockScrollBody, unlockScrollBody } from '@/helpers/ComponentHelper';\nimport type { BModalProps } from '@/types';\nimport { computed, onBeforeUnmount, watch } from 'vue';\nimport BModalContainer from './BModalContainer.vue';\n\n/**\n * Props\n */\nconst props = withDefaults(defineProps<BModalProps>(), {\n  size: BModalSize.Medium,\n  fullscreen: false,\n  persistent: false,\n});\n\n/**\n * Events\n */\nconst emit = defineEmits(['update:modelValue']);\n\n/**\n * Data\n */\nconst value = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(val: boolean) {\n    emit('update:modelValue', val);\n  },\n});\n\n/**\n * Watch\n */\nwatch(\n  value,\n  (val) => {\n    if (val) {\n      lockScrollBody();\n    } else {\n      unlockScrollBody();\n    }\n  },\n  { immediate: true }\n);\n\n/**\n * Lifecycle hooks\n */\nonBeforeUnmount(() => {\n  unlockScrollBody();\n});\n</script>\n\n<script lang=\"ts\">\n/**\n * [Vue warn]: Extraneous non-props attributes (class) were passed to component but could not be automatically inherited because component renders fragment or text root nodes\n */\nexport default {\n  // https://vuejs.org/guide/components/attrs.html#disabling-attribute-inheritance\n  inheritAttrs: false,\n};\n</script>\n\n<template>\n  <Teleport to=\"body\">\n    <Transition\n      enter-active-class=\"ds-transition-all ds-ease-in-out\"\n      enter-from-class=\"ds-opacity-0\"\n      enter-to-class=\"ds-opacity-1\"\n      leave-active-class=\"ds-transition-all ds-ease-in-out\"\n      leave-from-class=\"ds-opacity-1\"\n      leave-to-class=\"ds-opacity-0\"\n    >\n      <BModalContainer\n        v-if=\"value\"\n        :class=\"$attrs.class\"\n        :fullscreen=\"props.fullscreen\"\n        :persistent=\"props.persistent\"\n        :size=\"props.size\"\n        @close=\"value = false\"\n      >\n        <slot />\n      </BModalContainer>\n    </Transition>\n  </Teleport>\n</template>\n","<script setup lang=\"ts\"></script>\n<template>\n  <div class=\"ds-p-4\">\n    <slot></slot>\n  </div>\n</template>\n","<script setup lang=\"ts\"></script>\n<template>\n  <div class=\"ds-flex ds-items-center ds-justify-end ds-rounded-b-lg ds-p-4\">\n    <slot></slot>\n  </div>\n</template>\n","<script setup lang=\"ts\"></script>\n<template>\n  <div class=\"ds-flex ds-items-start ds-justify-between ds-rounded-t-lg ds-p-4\">\n    <slot></slot>\n  </div>\n</template>\n"],"names":["modalWrapperContentRef","ref","modalWrapperCssClass","computed","result","props","BModalSize","modalWrapperContentCssClass","initPressEscapeEventListener","closeOnEscapePressed","event","emit","initClickOutsideEventListener","closeOnClickOutside","r","onMounted","onBeforeUnmount","__default__","value","val","watch","lockScrollBody","unlockScrollBody","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_1"],"mappings":"8kBA2BMA,EAAyBC,EAA2B,IAAI,EACxDC,EAAuBC,EAAS,IAAM,CAC1C,IAAIC,EAAS,qEAEb,GAAIC,EAAM,WACED,GAAA,+BAGV,QADUA,GAAA,UACFC,EAAM,KAAM,CAClB,KAAKC,EAAW,MACJF,GAAA,eACV,MACF,KAAKE,EAAW,MACJF,GAAA,gBACV,MACF,KAAKE,EAAW,OAChB,QACYF,GAAA,gBACV,KACJ,CAGK,OAAAA,CAAA,CACR,EACKG,EAA8BJ,EAAS,IAAM,CACjD,IAAIC,EAAS,mDACH,OAAAA,GAAAC,EAAM,WAAa,2CAA6C,GAEnED,CAAA,CACR,EAKKI,EAA+B,IAAM,CAChC,SAAA,iBAAiB,UAAWC,CAAoB,CAAA,EAErDA,EAAwBC,GAAyB,CACjDA,EAAM,MAAQ,UAChBC,EAAK,OAAO,CACd,EAEIC,EAAgC,IAAM,CACjC,SAAA,iBAAiB,QAASC,CAAmB,CAAA,EAElDA,EAAuBH,GAAe,CAC7B,CAACV,EAAuB,KAAK,EACZ,KAAMc,GAAMJ,EAAM,eAAe,SAASI,CAAC,CAAC,GAExEH,EAAK,OAAO,CACd,EAMF,OAAAI,EAAU,IAAM,CACTV,EAAM,YACT,WAAW,IAAM,CACcG,IACCI,KAC7B,GAAG,CACR,CACD,EACDI,EAAgB,IAAM,CACfX,EAAM,aACA,SAAA,oBAAoB,UAAWI,CAAoB,EACnD,SAAA,oBAAoB,QAASI,CAAmB,EAC3D,CACD,qxBCpCD,MAAAI,EAAe,CAEb,aAAc,EAChB,wNAvCMC,EAAQf,EAAS,CACrB,KAAM,CACJ,OAAOE,EAAM,UACf,EACA,IAAIc,EAAc,CAChBR,EAAK,oBAAqBQ,CAAG,CAC/B,CAAA,CACD,EAKD,OAAAC,EACEF,EACCC,GAAQ,CACHA,EACaE,IAEEC,GAErB,EACA,CAAE,UAAW,EAAK,CAAA,EAMpBN,EAAgB,IAAM,CACHM,GAAA,CAClB,ugCCnDC,SAAAC,EAAAC,EAAAC,EAAA,QACeC,EAAA,EAAAC,EAAA,MAAAC,EAAA,6VCDf,SAAAL,EAAAC,EAAAC,EAAA,QACeC,EAAA,EAAAC,EAAA,MAAAC,EAAA,qWCDf,SAAAL,GAAAC,EAAAC,EAAA,QACeC,EAAA,EAAAC,EAAA,MAAAC,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}