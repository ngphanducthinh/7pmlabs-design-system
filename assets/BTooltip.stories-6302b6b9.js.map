{"version":3,"file":"BTooltip.stories-6302b6b9.js","sources":["../../src/components/BTooltip.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport { BTooltipOpenEvent, BTooltipPosition } from '@/constants/Enums';\nimport type { BTooltipProps } from '@/types';\nimport { computed, onBeforeUnmount, onMounted, ref } from 'vue';\n\n/**\n * Props\n */\nconst props = withDefaults(defineProps<BTooltipProps>(), {\n  modelValue: false,\n  position: BTooltipPosition.Top,\n  openEvent: BTooltipOpenEvent.Hover,\n});\n\n/**\n * Events\n */\nconst emit = defineEmits(['update:modelValue']);\n\n/**\n * Data\n */\nconst toggleRef = ref<HTMLElement | null>(null);\nlet toggleEl: Node | null | undefined;\nconst mValue = ref(false);\nconst value = computed({\n  get() {\n    return props.modelValue !== undefined ? props.modelValue : mValue.value;\n  },\n  set(val: boolean) {\n    if (props.modelValue !== undefined) {\n      emit('update:modelValue', val);\n    } else {\n      mValue.value = val;\n    }\n  },\n});\nconst tooltipCssClass = computed(() => {\n  let result = `ds-inline-block ds-absolute ds-z-10 ds-py-2 ds-px-3 ds-text-sm ds-font-medium ds-text-white ds-bg-black/[0.65] ds-rounded-lg ds-shadow-sm ds-transition-opacity ds-duration-300 `;\n\n  switch (props.position) {\n    case BTooltipPosition.Right:\n      result += ` `;\n      break;\n    case BTooltipPosition.Bottom:\n      result += ` `;\n      break;\n    case BTooltipPosition.Left:\n      result += ` `;\n      break;\n    case BTooltipPosition.Top:\n    default:\n      result += `ds-bottom-6 `;\n      break;\n  }\n\n  return result;\n});\n\n/**\n * Methods\n */\nconst onClick = () => {\n  value.value = !value.value;\n};\nconst onFocus = () => {\n  value.value = true;\n};\nconst onFocusOut = () => {\n  value.value = false;\n};\nconst onHover = () => {\n  value.value = true;\n};\nconst onHoverOut = () => {\n  value.value = false;\n};\n\n/**\n * Lifecycle hooks\n */\nonMounted(() => {\n  toggleEl = toggleRef.value;\n  switch (props.openEvent) {\n    case BTooltipOpenEvent.Click:\n      toggleEl?.addEventListener('click', onClick);\n      break;\n    case BTooltipOpenEvent.Focus:\n      toggleEl?.addEventListener('focus', onFocus);\n      toggleEl?.addEventListener('focusout', onFocusOut);\n      break;\n    case BTooltipOpenEvent.Hover:\n    default:\n      toggleEl?.addEventListener('mouseover', onHover);\n      toggleEl?.addEventListener('mouseleave', onHoverOut);\n      break;\n  }\n});\nonBeforeUnmount(() => {\n  toggleEl?.removeEventListener('click', onClick);\n  toggleEl?.removeEventListener('focus', onFocus);\n  toggleEl?.removeEventListener('mouseover', onHover);\n  toggleEl?.removeEventListener('mouseleave', onHoverOut);\n});\n</script>\n\n<template>\n  <div ref=\"toggleRef\">\n    <div class=\"ds-inline\">\n      <slot name=\"toggle\"> </slot>\n    </div>\n\n    <div v-show=\"value\" class=\"ds-relative\">\n      <div :class=\"tooltipCssClass\">\n        <slot></slot>\n        <div class=\"tooltip-arrow\" data-popper-arrow></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.tooltip-arrow {\n  position: absolute;\n  left: 0;\n  transform: translate3d(59.5px, 0px, 0px);\n}\n</style>\n"],"names":["toggleRef","ref","toggleEl","mValue","value","computed","props","val","emit","tooltipCssClass","result","BTooltipPosition","onClick","onFocus","onFocusOut","onHover","onHoverOut","onMounted","BTooltipOpenEvent","onBeforeUnmount"],"mappings":"8kBAsBMA,EAAYC,EAAwB,IAAI,EAC1C,IAAAC,EACE,MAAAC,EAASF,EAAI,EAAK,EAClBG,EAAQC,EAAS,CACrB,KAAM,CACJ,OAAOC,EAAM,aAAe,OAAYA,EAAM,WAAaH,EAAO,KACpE,EACA,IAAII,EAAc,CACZD,EAAM,aAAe,OACvBE,EAAK,oBAAqBD,CAAG,EAE7BJ,EAAO,MAAQI,CAEnB,CAAA,CACD,EACKE,EAAkBJ,EAAS,IAAM,CACrC,IAAIK,EAAS,mLAEb,OAAQJ,EAAM,SAAU,CACtB,KAAKK,EAAiB,MACVD,GAAA,IACV,MACF,KAAKC,EAAiB,OACVD,GAAA,IACV,MACF,KAAKC,EAAiB,KACVD,GAAA,IACV,MACF,KAAKC,EAAiB,IACtB,QACYD,GAAA,eACV,KACJ,CAEO,OAAAA,CAAA,CACR,EAKKE,EAAU,IAAM,CACdR,EAAA,MAAQ,CAACA,EAAM,KAAA,EAEjBS,EAAU,IAAM,CACpBT,EAAM,MAAQ,EAAA,EAEVU,EAAa,IAAM,CACvBV,EAAM,MAAQ,EAAA,EAEVW,EAAU,IAAM,CACpBX,EAAM,MAAQ,EAAA,EAEVY,EAAa,IAAM,CACvBZ,EAAM,MAAQ,EAAA,EAMhB,OAAAa,EAAU,IAAM,CAEd,OADAf,EAAWF,EAAU,MACbM,EAAM,UAAW,CACvB,KAAKY,EAAkB,MACXhB,GAAA,MAAAA,EAAA,iBAAiB,QAASU,GACpC,MACF,KAAKM,EAAkB,MACXhB,GAAA,MAAAA,EAAA,iBAAiB,QAASW,GAC1BX,GAAA,MAAAA,EAAA,iBAAiB,WAAYY,GACvC,MACF,KAAKI,EAAkB,MACvB,QACYhB,GAAA,MAAAA,EAAA,iBAAiB,YAAaa,GAC9Bb,GAAA,MAAAA,EAAA,iBAAiB,aAAcc,GACzC,KACJ,CAAA,CACD,EACDG,EAAgB,IAAM,CACVjB,GAAA,MAAAA,EAAA,oBAAoB,QAASU,GAC7BV,GAAA,MAAAA,EAAA,oBAAoB,QAASW,GAC7BX,GAAA,MAAAA,EAAA,oBAAoB,YAAaa,GACjCb,GAAA,MAAAA,EAAA,oBAAoB,aAAcc,EAAU,CACvD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}