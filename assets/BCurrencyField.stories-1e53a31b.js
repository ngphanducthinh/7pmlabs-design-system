import{j as $,b as C,k as d,C as K,E as P,o as r,d as p,q as x,l as o,w as b,y as k,n as c,m as f,A as z,s as H,u as U}from"./vue.esm-bundler-d836205b.js";import{_ as O}from"./BLabel-04f8c997.js";import{u as j}from"./Validation-68c07edf.js";import{_ as T}from"./BErrorMessage-3ca20143.js";import{u as G}from"./vue-i18n.esm-bundler-b6b8dfca.js";import{I as J}from"./imask-7.1.3-80c1e5b4.js";import{v as L}from"./v4-a960c1f4.js";import"./Common-43134899.js";const Q={class:"ds-relative"},W={key:0,class:"ds-absolute ds-left-3 ds-top-0 ds-z-[1] ds-flex ds-h-full ds-cursor-pointer ds-items-center hover:ds-text-primary-t"},X=["id"],Y=["id","autocomplete","disabled","placeholder","readonly","onKeyup"],Z={key:1,class:"ds-absolute ds-right-3 ds-top-0 ds-z-[1] ds-flex ds-h-full ds-cursor-pointer ds-items-center hover:ds-text-primary-t"},ee=["id"],m=$({__name:"BCurrencyField",props:{inputId:{default:""},inputCssClass:{default:""},modelValue:{},label:{default:""},prependIcon:{default:""},hidePrependIcon:{type:Boolean,default:!1},appendIcon:{default:""},hideAppendIcon:{type:Boolean,default:!1},validationRules:{default:void 0},placeholder:{default:""},autocomplete:{type:Boolean,default:!1},required:{type:Boolean,default:!1},requiredErrorMessage:{default:""},disabled:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},emits:["click:prepend","click:append","press:enter","update:modelValue"],setup(u,{emit:s}){const a=u;let l;const{t:_,locale:v}=G(),y=C(null),B={validateRule:e=>!!(e&&(e!=null&&e.trim())),errorMessage:()=>a.requiredErrorMessage||_("ds.global.field_required")},n=d(()=>a.inputId||`id-${L()}`),h=d({get(){return a.modelValue},set(e){s("update:modelValue",e)}}),F=d(()=>[{"ds-pl-9":a.prependIcon,"ds-pr-9":a.appendIcon,"ds-cursor-not-allowed ds-bg-[#f2f2f2] ds-text-black/[0.4]":a.disabled,"ds-text-black/[0.85]":!a.disabled,"ds-border-error focus:ds-ring-1 focus:ds-ring-error":!i.value.valid,"ds-border-black/[0.1] focus:ds-border-focus focus:ds-ring-1 focus:ds-ring-focus":i.value.valid},a.inputCssClass]),R=d(()=>{let e=[];return a.required&&e.push(B),a.validationRules&&(e=e.concat(a.validationRules)),e.length?e:void 0}),w=d(()=>v.value==="en-US"?{mask:"$num",blocks:{num:{mask:Number,thousandsSeparator:" "}}}:[{mask:""},{mask:"num VND",lazy:!1,blocks:{num:{mask:Number,thousandsSeparator:" "}}}]),{validate:A,validationResult:i}=j(n.value,h,R.value);K(v,()=>{g()});const M=()=>{s("click:prepend")},D=()=>{s("click:append")},E=()=>{A()},N=()=>{s("press:enter")},S=()=>{h.value=+l.unmaskedValue},g=()=>{l&&l.destroy(),l=J(y.value,w.value),l.on("accept",S)};return P(()=>{g()}),(e,ae)=>(r(),p("div",null,[x(O,{id:n.value,label:e.label,required:e.required},null,8,["id","label","required"]),o("div",Q,[e.prependIcon?b((r(),p("div",W,[o("span",{id:`${n.value}prependIcon`,class:c(e.prependIcon),onClick:M},null,10,X)],512)),[[k,!e.hidePrependIcon]]):f("",!0),o("input",{id:n.value,ref_key:"inputRef",ref:y,autocomplete:a.autocomplete?"on":"off",class:c([F.value,"ds-block ds-h-[40px] ds-w-full ds-rounded-lg ds-border ds-px-3 ds-text-sm ds-drop-shadow-light"]),disabled:a.disabled,placeholder:a.placeholder,readonly:a.readonly,onKeyup:[E,z(N,["enter"])]},null,42,Y),e.appendIcon?b((r(),p("div",Z,[o("span",{id:`${n.value}appendIcon`,class:c(e.appendIcon),onClick:D},null,10,ee)],512)),[[k,!e.hideAppendIcon]]):f("",!0)]),e.hideDetails?f("",!0):(r(),H(T,{key:0,"error-message":U(i).errorMessage(),class:"ds-mt-1"},null,8,["error-message"]))]))}});m.__docgenInfo={exportName:"default",displayName:"BCurrencyField",description:"",tags:{},props:[{name:"inputId",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"inputCssClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"modelValue",required:!0,type:{name:"number"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"prependIcon",description:"FontAwesome v6.1.0 - Solid.",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hidePrependIcon",description:"Hide prepended icon.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"appendIcon",description:"FontAwesome v6.1.0 - Solid.",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hideAppendIcon",description:"Hide appended icon.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"validationRules",description:"Array of custom validation rules.",required:!1,type:{name:"Array",elements:[{name:"ValidationRule"}]},defaultValue:{func:!1,value:"undefined"}},{name:"placeholder",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"autocomplete",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",description:"Validate if the field is left empty.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"requiredErrorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hideDetails",description:"Hide the validation error message.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"readonly",defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/design-system/design-system/src/components/BCurrencyField.vue"]};const ie={title:"Components/CurrencyField",component:m,tags:["autodocs"],argTypes:{},args:{inputId:"",inputCssClass:"",validationRules:void 0,label:"",prependIcon:"",hidePrependIcon:!1,appendIcon:"",hideAppendIcon:!1,placeholder:"",autocomplete:!1,disabled:!1,readonly:!1,required:!1,requiredErrorMessage:"",hideDetails:!1}},t={render:u=>({components:{BCurrencyField:m},setup(){const s=C(0);return{args:u,amount:s}},template:`
      <BCurrencyField v-bind="args"  v-model="amount" />
    `}),args:{modelValue:""}};var I,V,q;t.parameters={...t.parameters,docs:{...(I=t.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: (args: any) => ({
    components: {
      BCurrencyField
    },
    setup() {
      const amount = ref(0);
      return {
        args,
        amount
      };
    },
    template: \`
      <BCurrencyField v-bind="args"  v-model="amount" />
    \`
  }),
  args: {
    modelValue: ''
  }
}`,...(q=(V=t.parameters)==null?void 0:V.docs)==null?void 0:q.source}}};const pe=["Default"];export{t as Default,pe as __namedExportsOrder,ie as default};
//# sourceMappingURL=BCurrencyField.stories-1e53a31b.js.map
