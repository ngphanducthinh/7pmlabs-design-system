import{j as ve,e as I,z as L,B as He,w as We,v as Ye,o as $,b as R,k as x,m as Xe,F as Ze,E as Je,x as te,u as Qe,l as ke,n as et}from"./vue.esm-bundler-109c6e5d.js";import{_ as tt}from"./BErrorMessage-d03d9705.js";import{u as nt}from"./Validation-fee331a1.js";import{u as at}from"./vue-i18n-cb82ae8c.js";import{v as rt}from"./v4-4a60fe23.js";import{h as U,j as ye,a as N,d as st,b as be,c as ot,i as _e,f as it,e as Oe,M as xe,o as ut,r as Ie,S as ne,k as we,g as K,n as S,l as Ae}from"./_getTag-a6d04ccb.js";import"./Common-c3b475f1.js";var ae=Object.create,lt=function(){function e(){}return function(t){if(!U(t))return{};if(ae)return ae(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const ct=lt;function dt(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}var pt=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch{}}();const re=pt;function ft(e,t){for(var n=-1,a=e==null?0:e.length;++n<a&&t(e[n],n,e)!==!1;);return e}var mt=9007199254740991,ht=/^(?:0|[1-9]\d*)$/;function gt(e,t){var n=typeof e;return t=t??mt,!!t&&(n=="number"||n!="symbol"&&ht.test(e))&&e>-1&&e%1==0&&e<t}function Te(e,t,n){t=="__proto__"&&re?re(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ce(e,t){return e===t||e!==e&&t!==t}var vt=Object.prototype,yt=vt.hasOwnProperty;function $e(e,t,n){var a=e[t];(!(yt.call(e,t)&&Ce(a,n))||n===void 0&&!(t in e))&&Te(e,t,n)}function D(e,t,n,a){var u=!n;n||(n={});for(var o=-1,r=t.length;++o<r;){var c=t[o],p=a?a(n[c],e[c],c,n,e):void 0;p===void 0&&(p=e[c]),u?Te(n,c,p):$e(n,c,p)}return n}function bt(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}var _t=Object.prototype,Ot=_t.hasOwnProperty;function je(e,t){var n=N(e),a=!n&&st(e),u=!n&&!a&&be(e),o=!n&&!a&&!u&&ot(e),r=n||a||u||o,c=r?bt(e.length,String):[],p=c.length;for(var f in e)(t||Ot.call(e,f))&&!(r&&(f=="length"||u&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||gt(f,p)))&&c.push(f);return c}function z(e){return _e(e)?je(e):it(e)}function xt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var It=Object.prototype,wt=It.hasOwnProperty;function At(e){if(!U(e))return xt(e);var t=Oe(e),n=[];for(var a in e)a=="constructor"&&(t||!wt.call(e,a))||n.push(a);return n}function G(e){return _e(e)?je(e,!0):At(e)}var Tt=ye(Object,"create");const j=Tt;function Ct(){this.__data__=j?j(null):{},this.size=0}function $t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jt="__lodash_hash_undefined__",Ft=Object.prototype,Bt=Ft.hasOwnProperty;function Pt(e){var t=this.__data__;if(j){var n=t[e];return n===jt?void 0:n}return Bt.call(t,e)?t[e]:void 0}var St=Object.prototype,Dt=St.hasOwnProperty;function Et(e){var t=this.__data__;return j?t[e]!==void 0:Dt.call(t,e)}var Vt="__lodash_hash_undefined__";function Mt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=j&&t===void 0?Vt:t,this}function b(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}b.prototype.clear=Ct;b.prototype.delete=$t;b.prototype.get=Pt;b.prototype.has=Et;b.prototype.set=Mt;function qt(){this.__data__=[],this.size=0}function E(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}var Lt=Array.prototype,Rt=Lt.splice;function Ut(e){var t=this.__data__,n=E(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():Rt.call(t,n,1),--this.size,!0}function Nt(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]}function Kt(e){return E(this.__data__,e)>-1}function zt(e,t){var n=this.__data__,a=E(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function v(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}v.prototype.clear=qt;v.prototype.delete=Ut;v.prototype.get=Nt;v.prototype.has=Kt;v.prototype.set=zt;function Gt(){this.size=0,this.__data__={hash:new b,map:new(xe||v),string:new b}}function Ht(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function V(e,t){var n=e.__data__;return Ht(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Wt(e){var t=V(this,e).delete(e);return this.size-=t?1:0,t}function Yt(e){return V(this,e).get(e)}function Xt(e){return V(this,e).has(e)}function Zt(e,t){var n=V(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function w(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}w.prototype.clear=Gt;w.prototype.delete=Wt;w.prototype.get=Yt;w.prototype.has=Xt;w.prototype.set=Zt;function Fe(e,t){for(var n=-1,a=t.length,u=e.length;++n<a;)e[u+n]=t[n];return e}var Jt=ut(Object.getPrototypeOf,Object);const Be=Jt;function Qt(){this.__data__=new v,this.size=0}function kt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function en(e){return this.__data__.get(e)}function tn(e){return this.__data__.has(e)}var nn=200;function an(e,t){var n=this.__data__;if(n instanceof v){var a=n.__data__;if(!xe||a.length<nn-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new w(a)}return n.set(e,t),this.size=n.size,this}function A(e){var t=this.__data__=new v(e);this.size=t.size}A.prototype.clear=Qt;A.prototype.delete=kt;A.prototype.get=en;A.prototype.has=tn;A.prototype.set=an;function rn(e,t){return e&&D(t,z(t),e)}function sn(e,t){return e&&D(t,G(t),e)}var Pe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,se=Pe&&typeof module=="object"&&module&&!module.nodeType&&module,on=se&&se.exports===Pe,oe=on?Ie.Buffer:void 0,ie=oe?oe.allocUnsafe:void 0;function un(e,t){if(t)return e.slice();var n=e.length,a=ie?ie(n):new e.constructor(n);return e.copy(a),a}function ln(e,t){for(var n=-1,a=e==null?0:e.length,u=0,o=[];++n<a;){var r=e[n];t(r,n,e)&&(o[u++]=r)}return o}function Se(){return[]}var cn=Object.prototype,dn=cn.propertyIsEnumerable,ue=Object.getOwnPropertySymbols,pn=ue?function(e){return e==null?[]:(e=Object(e),ln(ue(e),function(t){return dn.call(e,t)}))}:Se;const H=pn;function fn(e,t){return D(e,H(e),t)}var mn=Object.getOwnPropertySymbols,hn=mn?function(e){for(var t=[];e;)Fe(t,H(e)),e=Be(e);return t}:Se;const De=hn;function gn(e,t){return D(e,De(e),t)}function Ee(e,t,n){var a=t(e);return N(e)?a:Fe(a,n(e))}function vn(e){return Ee(e,z,H)}function yn(e){return Ee(e,G,De)}var bn=Object.prototype,_n=bn.hasOwnProperty;function On(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&_n.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var xn=Ie.Uint8Array;const le=xn;function W(e){var t=new e.constructor(e.byteLength);return new le(t).set(new le(e)),t}function In(e,t){var n=t?W(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var wn=/\w*$/;function An(e){var t=new e.constructor(e.source,wn.exec(e));return t.lastIndex=e.lastIndex,t}var ce=ne?ne.prototype:void 0,de=ce?ce.valueOf:void 0;function Tn(e){return de?Object(de.call(e)):{}}function Cn(e,t){var n=t?W(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $n="[object Boolean]",jn="[object Date]",Fn="[object Map]",Bn="[object Number]",Pn="[object RegExp]",Sn="[object Set]",Dn="[object String]",En="[object Symbol]",Vn="[object ArrayBuffer]",Mn="[object DataView]",qn="[object Float32Array]",Ln="[object Float64Array]",Rn="[object Int8Array]",Un="[object Int16Array]",Nn="[object Int32Array]",Kn="[object Uint8Array]",zn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Hn="[object Uint32Array]";function Wn(e,t,n){var a=e.constructor;switch(t){case Vn:return W(e);case $n:case jn:return new a(+e);case Mn:return In(e,n);case qn:case Ln:case Rn:case Un:case Nn:case Kn:case zn:case Gn:case Hn:return Cn(e,n);case Fn:return new a;case Bn:case Dn:return new a(e);case Pn:return An(e);case Sn:return new a;case En:return Tn(e)}}function Yn(e){return typeof e.constructor=="function"&&!Oe(e)?ct(Be(e)):{}}var Xn="[object Map]";function Zn(e){return we(e)&&K(e)==Xn}var pe=S&&S.isMap,Jn=pe?Ae(pe):Zn;const Qn=Jn;var kn="[object Set]";function ea(e){return we(e)&&K(e)==kn}var fe=S&&S.isSet,ta=fe?Ae(fe):ea;const na=ta;var aa=1,ra=2,sa=4,Ve="[object Arguments]",oa="[object Array]",ia="[object Boolean]",ua="[object Date]",la="[object Error]",Me="[object Function]",ca="[object GeneratorFunction]",da="[object Map]",pa="[object Number]",qe="[object Object]",fa="[object RegExp]",ma="[object Set]",ha="[object String]",ga="[object Symbol]",va="[object WeakMap]",ya="[object ArrayBuffer]",ba="[object DataView]",_a="[object Float32Array]",Oa="[object Float64Array]",xa="[object Int8Array]",Ia="[object Int16Array]",wa="[object Int32Array]",Aa="[object Uint8Array]",Ta="[object Uint8ClampedArray]",Ca="[object Uint16Array]",$a="[object Uint32Array]",l={};l[Ve]=l[oa]=l[ya]=l[ba]=l[ia]=l[ua]=l[_a]=l[Oa]=l[xa]=l[Ia]=l[wa]=l[da]=l[pa]=l[qe]=l[fa]=l[ma]=l[ha]=l[ga]=l[Aa]=l[Ta]=l[Ca]=l[$a]=!0;l[la]=l[Me]=l[va]=!1;function P(e,t,n,a,u,o){var r,c=t&aa,p=t&ra,f=t&sa;if(n&&(r=u?n(e,a,u,o):n(e)),r!==void 0)return r;if(!U(e))return e;var _=N(e);if(_){if(r=On(e),!c)return dt(e,r)}else{var g=K(e),O=g==Me||g==ca;if(be(e))return un(e,c);if(g==qe||g==Ve||O&&!u){if(r=p||O?{}:Yn(e),!c)return p?gn(e,sn(r,e)):fn(e,rn(r,e))}else{if(!l[g])return u?e:{};r=Wn(e,g,c)}}o||(o=new A);var m=o.get(e);if(m)return m;o.set(e,r),na(e)?e.forEach(function(d){r.add(P(d,t,n,d,e,o))}):Qn(e)&&e.forEach(function(d,h){r.set(h,P(d,t,n,h,e,o))});var T=f?p?yn:vn:p?G:z,i=_?void 0:T(e);return ft(i||e,function(d,h){i&&(h=d,d=e[h]),$e(r,h,P(d,t,n,h,e,o))}),r}var ja=1,Fa=4;function Ba(e){return P(e,ja|Fa)}const Pa=["disabled"],Le=ve({__name:"BOtpFieldBox",props:{value:{default:""},focus:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},emits:["on-change","on-keydown","on-keyup","on-paste","on-focus","on-blur"],setup(e,{expose:t,emit:n}){const a=e,u=n,o=I(a.value||""),r=I(null),c=["0","1","2","3","4","5","6","7","8","9"],p=()=>{if(!c.includes(o.value)){o.value="";return}return o.value=o.value.toString(),o.value.length>1&&(o.value=o.value.slice(0,1)),u("on-change",o.value)},f=i=>{a.isDisabled&&i.preventDefault();const d=i;["Alt","Control","Meta","Backspace","ArrowLeft","ArrowRight","v",...c].includes(d.key)?u("on-keydown",i):d.preventDefault()},_=i=>{u("on-keyup",i)},g=i=>{u("on-paste",i)},O=()=>(r.value.select(),u("on-focus")),m=()=>u("on-blur"),T=()=>{r.value.focus(),r.value.select()};return L(()=>a.value,(i,d)=>{i!==d&&(o.value=i)}),L(()=>a.focus,(i,d)=>{d!==i&&r.value&&a.focus&&(r.value.focus(),r.value.select())}),He(()=>{r.value&&a.focus&&(r.value.focus(),r.value.select())}),t({focus:T}),(i,d)=>We(($(),R("input",{ref_key:"inputRef",ref:r,"onUpdate:modelValue":d[0]||(d[0]=h=>o.value=h),disabled:i.isDisabled,class:"ds-h-11 ds-w-11 ds-rounded-lg ds-border ds-text-center ds-drop-shadow-light ds-transition-all ds-duration-200",inputmode:"numeric",maxlength:"1",onBlur:m,onFocus:O,onInput:p,onKeydown:f,onKeyup:_,onPaste:g},null,40,Pa)),[[Ye,o.value]])}});Le.__docgenInfo={exportName:"default",displayName:"BOtpFieldBox",description:"",tags:{},expose:[{name:"focus"}],props:[{name:"value",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"focus",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isDisabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"on-change",type:{names:["string"]}},{name:"on-keydown",type:{names:["KeyboardEvent"]}},{name:"on-keyup",type:{names:["KeyboardEvent"]}},{name:"on-paste",type:{names:["ClipboardEvent"]}},{name:"on-focus"},{name:"on-blur"}],sourceFiles:["/home/runner/work/design-system/design-system/src/components/BOtpField/BOtpFieldBox.vue"]};const Sa={class:"ds-flex ds-items-center ds-justify-center ds-space-x-2"},Y=ve({__name:"BOtpField",props:{inputId:{default:""},modelValue:{default:""},numInputs:{default:6},focusIndex:{default:void 0},disabled:{type:Boolean,default:!1},inputCssClass:{default:""},validationRules:{default:void 0},required:{type:Boolean,default:!1},requiredErrorMessage:{default:""},hideDetails:{type:Boolean,default:!1}},emits:["complete","change","update:focusIndex","update:modelValue"],setup(e,{expose:t,emit:n}){const a=e,u=n,{t:o}=at(),r={validateRule:s=>!!s,errorMessage:()=>a.requiredErrorMessage||o("ds.global.field_required")},c=I(0),p=I([]),f=I(null),_=s=>{i.value=s},g=()=>{i.value=-1},O=x(()=>a.inputId||`id-${rt()}`),m=x({get(){return a.modelValue.split("")},set(s){u("update:modelValue",s.join(""))}}),T=x(()=>a.modelValue),i=x({get(){return a.focusIndex!==void 0?a.focusIndex:c.value},set(s){a.focusIndex!==void 0?u("update:focusIndex",s):c.value=s}}),d=x(()=>{let s=[];return a.required&&s.push(r),a.validationRules&&(s=s.concat(a.validationRules)),s.length?s:void 0}),h=x(()=>[a.disabled?"ds-cursor-not-allowed ds-bg-[#f2f2f2] ds-text-black/[0.4]":"ds-text-black/[0.85]",Z.value.valid?"ds-border-black/[0.1] focus:ds-border-focus focus:ds-ring-1 focus:ds-ring-focus":"ds-border-error focus:ds-ring-1 focus:ds-ring-error",a.inputCssClass]),{validate:X,validationResult:Z}=nt(O.value,T,d.value),Re=()=>{f.value[i.value].focus()},J=()=>m.value.join("").length===a.numInputs?u("complete",m.value.join("")):"Wait until the user enters the required number of characters",M=s=>{i.value=Math.max(Math.min(a.numInputs-1,s),0)},Q=()=>{M(i.value+1)},k=()=>{M(i.value-1)},q=s=>{p.value=[...m.value],m.value[i.value]=s,m.value=Ba(m.value);const C=p.value.join(""),F=m.value.join("");C!==F&&(u("change",F),J())},Ue=s=>{s.preventDefault();const C=s.clipboardData.getData("text/plain").slice(0,a.numInputs-i.value).split("");if(!C.join("").match(/^\d+$/))return"Invalid pasted data";const y=m.value.slice(0,i.value).concat(C);return y.slice(0,a.numInputs).forEach((ee,Ge)=>{m.value[Ge]=ee}),M(y.slice(0,a.numInputs).length),u("update:modelValue",m.value.join("")),J()},Ne=s=>{q(s),Q()},Ke=s=>{switch(s.key){case"Backspace":s.preventDefault(),q(""),k();break;case"Delete":s.preventDefault(),q("");break;case"ArrowLeft":s.preventDefault(),k();break;case"ArrowRight":s.preventDefault(),Q();break}},ze=()=>{X()};return t({validate:X,focus:Re}),(s,C)=>($(),R("div",null,[Xe("div",Sa,[($(!0),R(Ze,null,Je(s.numInputs,(F,y)=>($(),te(Le,{key:y,ref_for:!0,ref_key:"boxRefs",ref:f,class:et(h.value),focus:i.value===y,"is-disabled":s.disabled,value:m.value[y],onOnChange:Ne,onOnKeydown:Ke,onOnKeyup:ze,onOnPaste:Ue,onOnFocus:ee=>_(y),onOnBlur:g},null,8,["class","focus","is-disabled","value","onOnFocus"]))),128))]),s.hideDetails?ke("",!0):($(),te(tt,{key:0,"error-message":Qe(Z).errorMessage(),class:"ds-mt-1"},null,8,["error-message"]))]))}});Y.__docgenInfo={exportName:"default",displayName:"BOtpField",description:"",tags:{},expose:[{name:"validate"},{name:"focus"}],props:[{name:"inputId",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"modelValue",required:!0,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"numInputs",description:"Number of input boxes.",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"6"}},{name:"focusIndex",description:"Index of input box to be focused.",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"inputCssClass",required:!1,type:{name:"union",elements:[{name:"string"},{name:"{}"}]},defaultValue:{func:!1,value:"''"}},{name:"validationRules",description:"Array of custom validation rules.",required:!1,type:{name:"Array",elements:[{name:"ValidationRule"}]},defaultValue:{func:!1,value:"undefined"}},{name:"required",description:"Validate if the field is left empty.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"requiredErrorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hideDetails",description:"Hide the validation error message.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"complete",type:{names:["string"]},description:"OTP is completed, param: <code>value: string</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"value"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"value"}]},{name:"change",type:{names:["string"]},description:"OTP is changed, param: <code>value: string</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"value"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"value"}]},{name:"update:focusIndex",type:{names:["number"]},description:"Update focus index, param: <code>index: number</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"index"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"index"}]},{name:"update:modelValue",type:{names:["string"]},description:"Update value, param: <code>value: string</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"value"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"value"}]}],sourceFiles:["/home/runner/work/design-system/design-system/src/components/BOtpField/BOtpField.vue"]};const Ua={title:"Components/OtpField",parameters:{docs:{description:{component:"The <code>BOtpField</code> is used for inputting OTP."}}},component:Y,tags:["autodocs"],args:{inputId:"",numInputs:6,focusIndex:void 0,disabled:!1,inputCssClass:"",validationRules:void 0,required:!1,requiredErrorMessage:"",hideDetails:!1}},B={render:e=>({components:{BOtpField:Y},setup(){const t=I("");return L(()=>e.numInputs,n=>{t.value=t.value.substring(0,n)}),{args:e,otp:t}},template:`
      <BOtpField v-bind="args"  v-model="otp" />
    `}),args:{modelValue:""}};var me,he,ge;B.parameters={...B.parameters,docs:{...(me=B.parameters)==null?void 0:me.docs,source:{originalSource:`{
  render: (args: any) => ({
    components: {
      BOtpField
    },
    setup() {
      const otp = ref('');
      /**
       * Watch
       */
      watch(() => args.numInputs, val => {
        otp.value = otp.value.substring(0, val);
      });
      return {
        args,
        otp
      };
    },
    template: \`
      <BOtpField v-bind="args"  v-model="otp" />
    \`
  }),
  args: {
    modelValue: ''
  }
}`,...(ge=(he=B.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};const Na=["Default"];export{B as Default,Na as __namedExportsOrder,Ua as default};
