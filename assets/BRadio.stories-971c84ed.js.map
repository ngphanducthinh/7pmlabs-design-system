{"version":3,"file":"BRadio.stories-971c84ed.js","sources":["../../src/components/BRadio.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport BErrorMessage from '@/components/BErrorMessage.vue';\nimport {\n  useValidationField,\n  type ValidationRule,\n} from '@/composables/Validation';\nimport type { BRadioProps } from '@/types';\nimport { v4 as uuid } from 'uuid';\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\n/**\n * Props\n */\nconst props = withDefaults(defineProps<BRadioProps>(), {\n  inputId: '',\n  modelValue: '',\n  inputName: '',\n  label: '',\n  disabled: false,\n  labelCssClass: '',\n  hideDetails: false,\n  validationRules: undefined,\n  required: false,\n  requiredErrorMessage: '',\n});\n\n/**\n * Events\n */\nconst emit = defineEmits(['update:modelValue', 'change']);\n\n/**\n * Data\n */\nconst { t } = useI18n();\nconst validateRequired: ValidationRule = {\n  validateRule: (val: string) => !!(val && val.trim()),\n  errorMessage: () =>\n    props.requiredErrorMessage || t('ds.global.field_required'),\n};\nconst id = computed(() => props.inputId || `id-${uuid()}`);\nconst value = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(val) {\n    emit('update:modelValue', val);\n  },\n});\nconst vRules = computed(() => {\n  let result: ValidationRule[] = [];\n\n  if (props.required) {\n    result.push(validateRequired);\n  }\n  if (props.validationRules) {\n    result = result.concat(props.validationRules);\n  }\n\n  return result.length ? result : undefined;\n});\n\nconst { validate, validationResult } = useValidationField(\n  id.value,\n  value,\n  vRules.value\n);\n\n/**\n * Methods\n */\nconst onChange = () => {\n  emit('change');\n  validate();\n};\n</script>\n\n<template>\n  <div class=\"ds-flex ds-items-center\">\n    <input\n      :id=\"id\"\n      v-model=\"value\"\n      :class=\"{ 'ds-cursor-not-allowed': disabled }\"\n      :disabled=\"disabled\"\n      :name=\"inputName\"\n      :value=\"$attrs.value\"\n      class=\"ds-h-6 ds-min-h-[1.5rem] ds-w-6 ds-min-w-[1.5rem] ds-border-gray-300 ds-bg-gray-100 ds-text-primary-t focus:ds-ring-primary-t\"\n      type=\"radio\"\n      @change=\"onChange\"\n    />\n    <label\n      v-if=\"label\"\n      :class=\"labelCssClass\"\n      :for=\"id\"\n      class=\"ds-ml-2 ds-text-sm ds-font-medium ds-text-gray-900\"\n    >\n      {{ label }}\n    </label>\n  </div>\n  <b-error-message\n    v-if=\"!hideDetails\"\n    :error-message=\"validationResult.errorMessage()\"\n    class=\"ds-mt-1\"\n  />\n</template>\n"],"names":["t","useI18n","validateRequired","val","props","id","computed","uuid","value","emit","vRules","result","validate","validationResult","useValidationField","onChange"],"mappings":"+yBAmCM,CAAE,EAAAA,GAAMC,IACRC,EAAmC,CACvC,aAAeC,GAAgB,CAAC,EAAEA,GAAOA,EAAI,QAC7C,aAAc,IACZC,EAAM,sBAAwBJ,EAAE,0BAA0B,CAAA,EAExDK,EAAKC,EAAS,IAAMF,EAAM,SAAW,MAAMG,GAAM,EAAE,EACnDC,EAAQF,EAAS,CACrB,KAAM,CACJ,OAAOF,EAAM,UACf,EACA,IAAID,EAAK,CACPM,EAAK,oBAAqBN,CAAG,CAC/B,CAAA,CACD,EACKO,EAASJ,EAAS,IAAM,CAC5B,IAAIK,EAA2B,CAAA,EAE/B,OAAIP,EAAM,UACRO,EAAO,KAAKT,CAAgB,EAE1BE,EAAM,kBACCO,EAAAA,EAAO,OAAOP,EAAM,eAAe,GAGvCO,EAAO,OAASA,EAAS,MAAA,CACjC,EAEK,CAAE,SAAAC,EAAU,iBAAAC,CAAA,EAAqBC,EACrCT,EAAG,MACHG,EACAE,EAAO,KAAA,EAMHK,EAAW,IAAM,CACrBN,EAAK,QAAQ,EACJG,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}