{"version":3,"file":"ComponentHelper-d29c08d8.js","sources":["../../src/helpers/ComponentHelper.ts"],"sourcesContent":["export const ensureVisiblePosition = (\n  parentEl: HTMLElement,\n  menuEl: HTMLElement,\n  menuFixed?: boolean,\n): void => {\n  ensureVisibleX(parentEl, menuEl, menuFixed);\n  ensureVisibleY(parentEl, menuEl, menuFixed);\n  // Move menu element into body tag\n  document.body.append(menuEl);\n};\nexport const ensureVisibleX = (\n  parentEl: HTMLElement,\n  menuEl: HTMLElement,\n  menuFixed?: boolean,\n) => {\n  // Viewport\n  const screenWidth = window.innerWidth;\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n  const scrollX = menuFixed ? 0 : window.scrollX;\n  const dropdownLeftEdge = parentEl.getBoundingClientRect().left + scrollX;\n  const dropdownWidth = parentEl.getBoundingClientRect().width;\n\n  const menuLeftEdge = menuEl.getBoundingClientRect().left + scrollX;\n  const menuWidth = menuEl.getBoundingClientRect().width;\n\n  // Apply positions' value\n  const isMenuRightEdgeVisible =\n    menuLeftEdge + menuWidth <= screenWidth + scrollX;\n  if (isMenuRightEdgeVisible) {\n    menuEl.style.left = `${dropdownLeftEdge}px`;\n  } else {\n    menuEl.style.left = `${dropdownLeftEdge - menuWidth + dropdownWidth}px`;\n  }\n};\nexport const ensureVisibleY = (\n  parentEl: HTMLElement,\n  menuEl: HTMLElement,\n  menuFixed?: boolean,\n) => {\n  // Viewport\n  const screenHeight = window.innerHeight;\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n  // Height of screen can be longer when scrolling down, so TopEdge value should be calculated like this\n  const scrollY = menuFixed ? 0 : window.scrollY;\n  const dropdownTopEdge = parentEl.getBoundingClientRect().top + scrollY;\n  const dropdownHeight = parentEl.getBoundingClientRect().height;\n\n  const menuTopEdge = menuEl.getBoundingClientRect().top + scrollY;\n  const menuHeight = menuEl.getBoundingClientRect().height;\n\n  // Apply positions' value\n  const isMenuBottomEdgeVisible =\n    menuTopEdge + menuHeight <= screenHeight + scrollY;\n  if (isMenuBottomEdgeVisible) {\n    menuEl.style.top = `${dropdownTopEdge + dropdownHeight}px`;\n  } else {\n    menuEl.style.top = `${dropdownTopEdge - menuHeight}px`;\n  }\n};\nexport const resetPosition = (parentEl: HTMLElement, menuEl: HTMLElement) => {\n  menuEl.style.top = '';\n  menuEl.style.right = '';\n  menuEl.style.bottom = '';\n  menuEl.style.left = '';\n  // Move menu element back into dropdown tag\n  parentEl.append(menuEl);\n};\n\nexport const scrollToTop = () => {\n  if (window) {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n};\nexport const lockScrollBody = () => {\n  setTimeout(() => {\n    document.body.dataset['scrollLocked'] = '';\n    const scrollbarWith = getScrollbarWidth();\n    if (scrollbarWith) {\n      document.body.style.paddingRight = `${scrollbarWith}px`;\n    }\n    document.body.style.overflow = 'hidden';\n  }, 100);\n};\nexport const unlockScrollBody = () => {\n  document.body.removeAttribute('data-scroll-locked');\n  document.body.style.paddingRight = '';\n  document.body.style.overflow = '';\n};\nconst getScrollbarWidth = () =>\n  window.innerWidth - document.documentElement.clientWidth;\n"],"names":["ensureVisiblePosition","parentEl","menuEl","menuFixed","ensureVisibleX","ensureVisibleY","screenWidth","scrollX","dropdownLeftEdge","dropdownWidth","menuLeftEdge","menuWidth","screenHeight","scrollY","dropdownTopEdge","dropdownHeight","menuTopEdge","menuHeight","resetPosition","lockScrollBody","scrollbarWith","getScrollbarWidth","unlockScrollBody"],"mappings":"AAAO,MAAMA,EAAwB,CACnCC,EACAC,EACAC,IACS,CACMC,EAAAH,EAAUC,EAAQC,CAAS,EAC3BE,EAAAJ,EAAUC,EAAQC,CAAS,EAEjC,SAAA,KAAK,OAAOD,CAAM,CAC7B,EACaE,EAAiB,CAC5BH,EACAC,EACAC,IACG,CAEH,MAAMG,EAAc,OAAO,WAGrBC,EAAUJ,EAAY,EAAI,OAAO,QACjCK,EAAmBP,EAAS,sBAAsB,EAAE,KAAOM,EAC3DE,EAAgBR,EAAS,sBAAA,EAAwB,MAEjDS,EAAeR,EAAO,sBAAsB,EAAE,KAAOK,EACrDI,EAAYT,EAAO,sBAAA,EAAwB,MAI/CQ,EAAeC,GAAaL,EAAcC,EAEnCL,EAAA,MAAM,KAAO,GAAGM,CAAgB,KAEvCN,EAAO,MAAM,KAAO,GAAGM,EAAmBG,EAAYF,CAAa,IAEvE,EACaJ,EAAiB,CAC5BJ,EACAC,EACAC,IACG,CAEH,MAAMS,EAAe,OAAO,YAItBC,EAAUV,EAAY,EAAI,OAAO,QACjCW,EAAkBb,EAAS,sBAAsB,EAAE,IAAMY,EACzDE,EAAiBd,EAAS,sBAAA,EAAwB,OAElDe,EAAcd,EAAO,sBAAsB,EAAE,IAAMW,EACnDI,EAAaf,EAAO,sBAAA,EAAwB,OAIhDc,EAAcC,GAAcL,EAAeC,EAE3CX,EAAO,MAAM,IAAM,GAAGY,EAAkBC,CAAc,KAEtDb,EAAO,MAAM,IAAM,GAAGY,EAAkBG,CAAU,IAEtD,EACaC,EAAgB,CAACjB,EAAuBC,IAAwB,CAC3EA,EAAO,MAAM,IAAM,GACnBA,EAAO,MAAM,MAAQ,GACrBA,EAAO,MAAM,OAAS,GACtBA,EAAO,MAAM,KAAO,GAEpBD,EAAS,OAAOC,CAAM,CACxB,EAOaiB,EAAiB,IAAM,CAClC,WAAW,IAAM,CACN,SAAA,KAAK,QAAQ,aAAkB,GACxC,MAAMC,EAAgBC,IAClBD,IACF,SAAS,KAAK,MAAM,aAAe,GAAGA,CAAa,MAE5C,SAAA,KAAK,MAAM,SAAW,UAC9B,GAAG,CACR,EACaE,EAAmB,IAAM,CAC3B,SAAA,KAAK,gBAAgB,oBAAoB,EACzC,SAAA,KAAK,MAAM,aAAe,GAC1B,SAAA,KAAK,MAAM,SAAW,EACjC,EACMD,EAAoB,IACxB,OAAO,WAAa,SAAS,gBAAgB"}