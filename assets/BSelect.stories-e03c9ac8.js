import{e as Z,a as o,f as b,w as M,s as ee,d as se,o as l,c as d,h as r,k as ae,m as P,q as te,n as u,t as E,j as le,l as ne,y as de,F as re,x as oe,u as ie,g as ue,z as T}from"./vue.esm-bundler-ceeda665.js";import{u as me}from"./Validation-e4311cdc.js";import{u as F,l as ce,e as pe,r as fe}from"./ComponentHelper-8c2ae0a5.js";import{u as ve}from"./vue-i18n-5bf62172.js";import{_ as ge}from"./BErrorMessage-4dbabbe9.js";import{_ as ye}from"./BLabel-93eef36b.js";import{B as xe}from"./BTextField-87578f2d.js";import{v as be}from"./v4-eb618527.js";import"./Common-74b424b5.js";import"./_plugin-vue_export-helper-c27b6911.js";const he=["id","disabled"],Ve={key:0},we={key:1,class:"ds-text-black/[0.4]"},ke=["id","data-cy","data-ut"],Ce={class:"ds-max-h-72 ds-overflow-y-auto ds-rounded-lg ds-bg-white ds-shadow"},Ie={class:"ds-py-1 ds-text-sm ds-text-black/[0.85]"},qe=["onClick"],S=Z({__name:"BSelect",props:{inputId:{default:""},modelValue:{},label:{default:""},items:{},disabled:{type:Boolean,default:!1},placeholder:{default:""},valueCssClass:{default:""},menuCssClass:{default:""},validationRules:{default:void 0},required:{type:Boolean,default:!1},requiredErrorMessage:{default:""},hideDetails:{type:Boolean,default:!1},allowInput:{type:Boolean,default:!1}},emits:["change","open","close","change:input","update:modelValue"],setup(V,{expose:w,emit:A}){const a=V,m=A,c=o(null),k=o(null),p=o(null),n=o(!1),{t:U}=ve(),j={validateRule:e=>!!e,errorMessage:()=>a.requiredErrorMessage||U("ds.global.field_required")},C=o(""),f=o(),v=b(()=>a.inputId||`id-${be()}`),i=b({get(){return a.modelValue},set(e){m("update:modelValue",e)}}),W=b(()=>{let e="ds-border ds-drop-shadow-light ds-text-sm ds-h-[40px] ds-px-3 ds-rounded-lg ds-block ds-w-full ds-inline-flex ds-items-center ds-justify-between ";return e+=a.disabled?"ds-cursor-not-allowed ds-bg-[#f2f2f2] ds-text-black/[0.4] ":"ds-bg-white ds-text-black/[0.85] ",e+=R.value.valid?"ds-border-black/10 focus:ds-border-focus focus:ds-ring-1 focus:ds-ring-focus ":"ds-border-error focus:ds-ring-1 focus:ds-ring-error ",e}),H=b(()=>{let e=[];return a.required&&e.push(j),a.validationRules&&(e=e.concat(a.validationRules)),e.length?e:void 0}),{validate:$,validationResult:R}=me(v.value,i,H.value);M(n,e=>{e?(ce(),X(),m("open")):(F(),L(),m("close"))}),M(i,()=>{I(),g()}),M(()=>a.items,()=>{var e;i.value&&!((e=f.value)!=null&&e.value)&&(I(),g())},{deep:!0});const I=()=>{var e;f.value=(e=a.items)==null?void 0:e.find(s=>s.value===i.value)},g=()=>{var e;a.allowInput&&(C.value=((e=f.value)==null?void 0:e.text)||"")},G=()=>{document.addEventListener("keydown",_)},_=e=>{e.key==="Escape"&&q()},J=()=>{document.addEventListener("click",D)},D=e=>{[c.value,p.value].some(y=>e.composedPath().includes(y))||q()},K=e=>{i.value=e.value,q(),m("change",e.value),T(()=>{$()})},Q=(e,s)=>{s.style.width=`${e.offsetWidth}px`},X=()=>{T(()=>{pe(c.value,p.value),Q(c.value,p.value)})},L=()=>{fe(c.value,p.value)},Y=e=>{m("change:input",e)},q=()=>{var e;n.value=!1,(e=k.value)==null||e.blur(),g()};return(()=>{I(),g()})(),ee(()=>{G(),J()}),se(()=>{document.removeEventListener("keydown",_),document.removeEventListener("click",D),F(),L()}),w({validate:$,selectMenu:n}),(e,s)=>{var B,y;return l(),d("div",null,[r("div",{ref_key:"selectEl",ref:c},[ae(ye,{id:v.value,label:e.label,required:e.required},null,8,["id","label","required"]),a.allowInput?(l(),P(xe,{key:0,id:v.value,ref_key:"inputRef",ref:k,modelValue:C.value,"onUpdate:modelValue":[s[0]||(s[0]=t=>C.value=t),Y],disabled:a.disabled,placeholder:a.placeholder,"hide-details":"",onFocus:s[1]||(s[1]=t=>n.value=!0),"onClick:append":s[2]||(s[2]=t=>{var x;return(x=k.value)==null?void 0:x.focus()})},{appendIcon:te(()=>[(l(),d("svg",{class:u([[n.value?"ds-rotate-180":""],"ds-h-4 ds-w-4 ds-transition-transform"]),viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg"},s[4]||(s[4]=[r("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"},null,-1)]),2))]),_:1},8,["id","modelValue","disabled","placeholder"])):(l(),d("button",{key:1,id:v.value,class:u(W.value),disabled:a.disabled,type:"button",onClick:s[3]||(s[3]=t=>n.value=!n.value)},[r("span",{class:u([e.valueCssClass,"ds-truncate"])},[(B=f.value)!=null&&B.text?(l(),d("span",Ve,E((y=f.value)==null?void 0:y.text),1)):(l(),d("span",we,E(a.placeholder),1))],2),s[6]||(s[6]=le(" Â  ")),(l(),d("svg",{class:u([[n.value?"ds-rotate-180":""],"ds-h-4 ds-w-4 ds-transition-transform"]),viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg"},s[5]||(s[5]=[r("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"},null,-1)]),2))],10,he)),ne(r("div",{id:`${v.value}Menu`,ref_key:"selectMenuEl",ref:p,class:u([e.menuCssClass,"ds-absolute ds-z-50 ds-min-w-[8rem] ds-py-1"]),"data-cy":e.$attrs["data-cy"]?`${e.$attrs["data-cy"]}Menu`:void 0,"data-ut":e.$attrs["data-ut"]?`${e.$attrs["data-ut"]}Menu`:void 0},[r("div",Ce,[r("ul",Ie,[(l(!0),d(re,null,oe(e.items,(t,x)=>(l(),d("li",{key:`item${x}`,class:"ds-cursor-pointer",onClick:Me=>K(t)},[r("a",{class:u([t.cssClass+`${t.value===i.value?" ds-bg-gray-150":""}`,"ds-block ds-px-4 ds-py-2 hover:ds-bg-gray-150"])},E(t==null?void 0:t.text),3)],8,qe))),128))])])],10,ke),[[de,n.value]])],512),e.hideDetails?ue("",!0):(l(),P(ge,{key:0,"error-message":ie(R).errorMessage(),class:"ds-mt-1"},null,8,["error-message"]))])}}});S.__docgenInfo={exportName:"default",displayName:"BSelect",description:"",tags:{},expose:[{name:"validate"},{name:"selectMenu"}],props:[{name:"inputId",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"modelValue",required:!0,type:{name:"union",elements:[{name:"string"},{name:"number"}]}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"DisplayItem"}]}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholder",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"valueCssClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"menuCssClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"validationRules",description:"Array of custom validation rules.",required:!1,type:{name:"Array",elements:[{name:"ValidationRule"}]},defaultValue:{func:!1,value:"undefined"}},{name:"required",description:"Validate if the field is left empty.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"requiredErrorMessage",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hideDetails",description:"Hide the validation error message.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"allowInput",description:"Allow to type to search.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["union"],elements:[{name:"string"},{name:"number"}]},description:"Value is changed, param: <code>value: string | number</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"value"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"value"}]},{name:"open",description:"Menu is opened",properties:[{type:{names:["mixed"]},description:"e"}],tags:[{title:"param",type:{name:"mixed"},description:"e"}]},{name:"close",description:"Menu is closed",properties:[{type:{names:["mixed"]},description:"e"}],tags:[{title:"param",type:{name:"mixed"},description:"e"}]},{name:"change:input",type:{names:["string"]},description:"Input value for searching is changed, param: <code>inputValue: string</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"inputValue"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"inputValue"}]},{name:"update:modelValue",type:{names:["union"],elements:[{name:"string"},{name:"number"}]},description:"Update value, param: <code>value: string | number</code>",properties:[{type:{names:["mixed"]},description:"e"},{type:{names:["mixed"]},name:"value"}],tags:[{title:"param",type:{name:"mixed"},description:"e"},{title:"param",type:{name:"mixed"},name:"value"}]}],sourceFiles:["/home/runner/work/design-system/design-system/src/components/BSelect.vue"]};const Ne={title:"Components/Select",parameters:{docs:{description:{component:"The <code>BSelect</code> is used for collecting user provided information by picking single item from a list of options."}}},component:S,tags:["autodocs"],args:{inputId:"",label:"",disabled:!1,placeholder:"",valueCssClass:"",menuCssClass:"",validationRules:void 0,required:!1,requiredErrorMessage:"",hideDetails:!1,allowInput:!1}},h={render:V=>({components:{BSelect:S},setup(){const w=o(3);return{args:V,selectedValue:w}},template:`
      <BSelect v-bind="args" v-model="selectedValue" />
      <span class="ds-text-xs ds-text-gray-500">Selected value: <b>{{ selectedValue }}</b></span>
    `}),args:{modelValue:3,items:[{text:"Item 01",value:1},{text:"Item 02",value:2},{text:"Item 03",value:3},{text:"Item 04",value:4},{text:"Item 05",value:5},{text:"Item 06",value:6}]}};var N,z,O;h.parameters={...h.parameters,docs:{...(N=h.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: (args: any) => ({
    components: {
      BSelect
    },
    setup() {
      const selectedValue = ref(3);
      return {
        args,
        selectedValue
      };
    },
    template: \`
      <BSelect v-bind="args" v-model="selectedValue" />
      <span class="ds-text-xs ds-text-gray-500">Selected value: <b>{{ selectedValue }}</b></span>
    \`
  }),
  args: {
    modelValue: 3,
    items: [{
      text: 'Item 01',
      value: 1
    }, {
      text: 'Item 02',
      value: 2
    }, {
      text: 'Item 03',
      value: 3
    }, {
      text: 'Item 04',
      value: 4
    }, {
      text: 'Item 05',
      value: 5
    }, {
      text: 'Item 06',
      value: 6
    }]
  }
}`,...(O=(z=h.parameters)==null?void 0:z.docs)==null?void 0:O.source}}};const ze=["Default"];export{h as Default,ze as __namedExportsOrder,Ne as default};
